import{_ as n,e as a}from"./app.269ed0ef.js";const s={},t=a(`<h1 id="async-\u51FD\u6570" tabindex="-1"><a class="header-anchor" href="#async-\u51FD\u6570" aria-hidden="true">#</a> async \u51FD\u6570</h1><h2 id="\u57FA\u672C\u7528\u6CD5" tabindex="-1"><a class="header-anchor" href="#\u57FA\u672C\u7528\u6CD5" aria-hidden="true">#</a> \u57FA\u672C\u7528\u6CD5</h2><p>async \u51FD\u6570\u8FD4\u56DE\u4E00\u4E2A Promise \u5BF9\u8C61\uFF0C\u53EF\u4EE5\u4F7F\u7528 then \u65B9\u6CD5\u6DFB\u52A0\u56DE\u8C03\u51FD\u6570\uFF0C\u5F53\u51FD\u6570\u6267\u884C\u7684\u65F6\u5019\uFF0C\u4E00\u65E6\u9047\u5230 await \u5C31\u4F1A\u5148\u8FD4\u56DE\uFF0C\u7B49\u5230\u5F02\u6B65\u64CD\u4F5C\u5B8C\u6210\u518D\u63A5\u7740\u6267\u884C\u51FD\u6570\u4F53\u5185\u540E\u9762\u7684\u8BED\u53E5\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">timeout</span><span class="token punctuation">(</span><span class="token parameter">ms</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">await</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> ms<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">asyncPrint</span><span class="token punctuation">(</span><span class="token parameter">value<span class="token punctuation">,</span> ms</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">await</span> <span class="token function">timeout</span><span class="token punctuation">(</span>ms<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">asyncPrint</span><span class="token punctuation">(</span><span class="token string">&#39;hello world&#39;</span><span class="token punctuation">,</span> <span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="\u8BED\u6CD5" tabindex="-1"><a class="header-anchor" href="#\u8BED\u6CD5" aria-hidden="true">#</a> \u8BED\u6CD5</h2><p>async \u51FD\u6570\u8FD4\u56DE\u4E00\u4E2A Promise \u5BF9\u8C61\uFF0C\u51FD\u6570\u5185\u90E8 return \u8BED\u53E5\u8FD4\u56DE\u7684\u503C\u4F1A\u6210\u4E3A then \u65B9\u6CD5\u56DE\u8C03\u51FD\u6570\u7684\u53C2\u6570\u3002</p><p>async \u51FD\u6570\u5185\u90E8\u629B\u51FA\u9519\u8BEF\u4F1A\u5BFC\u81F4\u8FD4\u56DE\u7684 Promise \u5BF9\u8C61\u53D8\u4E3A reject \u72B6\u6001\uFF0C\u629B\u51FA\u9519\u8BEF\u7684\u5BF9\u8C61\u4F1A\u88AB catch \u65B9\u6CD5\u56DE\u8C03\u51FD\u6570\u6536\u5230\u3002</p><p>async \u51FD\u6570\u8FD4\u56DE\u7684 Promise \u5BF9\u8C61\u5FC5\u987B\u7B49\u5230\u5185\u90E8\u6240\u6709 await \u547D\u4EE4\u540E\u9762\u7684 Promise \u5BF9\u8C61\u6267\u884C\u5B8C\u624D\u4F1A\u53D1\u751F\u72B6\u6001\u6539\u53D8\uFF0C\u9664\u975E\u9047\u5230 return \u8BED\u53E5\u6216\u8005\u629B\u51FA\u9519\u8BEF\uFF0C\u53EA\u6709 async \u51FD\u6570\u5185\u90E8\u7684\u5F02\u6B65\u64CD\u4F5C\u6267\u884C\u5B8C\u624D\u4F1A\u6267\u884C then \u65B9\u6CD5\u6307\u5B9A\u7684\u56DE\u8C03\u51FD\u6570\u3002</p><p>await \u547D\u4EE4\u540E\u9762\u7684 Promise \u5BF9\u8C61\u5982\u679C\u53D8\u6210 reject \u72B6\u6001\uFF0C\u5219 reject \u7684\u53C2\u6570\u4F1A\u88AB catch \u65B9\u6CD5\u7684\u56DE\u8C03\u51FD\u6570\u63A5\u6536\u5230\u3002\u800C\u4E14\u53EA\u8981\u4EFB\u4F55\u4E00\u4E2A await \u8BED\u53E5\u540E\u9762\u7684 Promise\u5BF9\u8C61\u53D8\u4E3A reject \u72B6\u6001\uFF0C\u90A3\u4E48\u6574\u4E2A async \u51FD\u6570\u90FD\u4F1A\u4E2D\u65AD\u6267\u884C\u3002</p><p>\u5982\u679C\u5E0C\u671B\u5373\u4F7F\u524D\u9762\u7684\u5F02\u6B65\u64CD\u4F5C\u5931\u8D25\u4E5F\u4E0D\u4E2D\u65AD\u540E\u9762\u7684\u5F02\u6B65\u64CD\u4F5C\u53EF\u4EE5\u5C06\u524D\u9762\u7684 await \u653E\u5728 try...catch \u7ED3\u6784\u91CC\u3002</p><p>await \u540E\u9762\u7684\u5F02\u6B65\u64CD\u4F5C\u51FA\u9519\u7B49\u540C\u4E8E async \u51FD\u6570\u8FD4\u56DE\u7684 Promise \u5BF9\u8C61\u88AB reject\u3002</p><div class="custom-container tip"><p class="custom-container-title">\u4F7F\u7528\u6CE8\u610F\u70B9\uFF1A</p><ul><li>\u6700\u597D\u628A await \u547D\u4EE4\u653E\u5728 try \u4EE3\u7801\u5757\u4E2D\u3002</li><li>\u591A\u4E2A await \u547D\u4EE4\u540E\u9762\u7684\u5F02\u6B65\u64CD\u4F5C\u5982\u679C\u4E0D\u5B58\u5728\u5148\u540E\u5173\u7CFB\u6700\u597D\u540C\u65F6\u89E6\u53D1\u3002</li><li>await \u547D\u4EE4\u53EA\u80FD\u7528\u5728 async \u51FD\u6570\u3002</li><li>async\u51FD\u6570\u53EF\u4EE5\u4FDD\u7559\u8FD0\u884C\u5806\u6808\u3002</li></ul></div>`,12);function p(e,c){return t}var i=n(s,[["render",p]]);export{i as default};
