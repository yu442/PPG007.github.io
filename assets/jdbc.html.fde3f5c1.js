import{_ as n,e as s}from"./app.269ed0ef.js";const a={},p=s(`<h1 id="jdbc" tabindex="-1"><a class="header-anchor" href="#jdbc" aria-hidden="true">#</a> JDBC</h1><h2 id="jdbc-\u8FDB\u884C\u589E\u5220\u6539\u67E5\u7684\u6B65\u9AA4" tabindex="-1"><a class="header-anchor" href="#jdbc-\u8FDB\u884C\u589E\u5220\u6539\u67E5\u7684\u6B65\u9AA4" aria-hidden="true">#</a> JDBC \u8FDB\u884C\u589E\u5220\u6539\u67E5\u7684\u6B65\u9AA4</h2><ol><li>\u914D\u7F6E\u3002</li><li>\u52A0\u8F7D\u9A71\u52A8\u3002</li><li>\u8FDE\u63A5\u6570\u636E\u5E93\u3002</li><li>\u5411\u6570\u636E\u5E93\u53D1\u9001 sql \u7684\u5BF9\u8C61 statement\u3002</li><li>\u7F16\u5199 sql\u3002</li><li>\u6267\u884C sql\u3002</li><li>\u5173\u95ED\u8FDE\u63A5\uFF0C\u5148\u521B\u5EFA\u7684\u540E\u5173\u95ED\u3002</li></ol><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>    <span class="token comment">//\u914D\u7F6E</span>
    <span class="token class-name">String</span> url<span class="token operator">=</span><span class="token string">&quot;jdbc:mysql://localhost:3306/mydata?serverTimezone=UTC&quot;</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> username<span class="token operator">=</span><span class="token string">&quot;root&quot;</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> password<span class="token operator">=</span><span class="token string">&quot;123456&quot;</span><span class="token punctuation">;</span>

    <span class="token comment">//\u52A0\u8F7D\u9A71\u52A8</span>
    <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">&quot;com.mysql.cj.jdbc.Driver&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//\u8FDE\u63A5\u6570\u636E\u5E93</span>
    <span class="token class-name">Connection</span> connection<span class="token operator">=</span> <span class="token class-name">DriverManager</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span>username<span class="token punctuation">,</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//\u5411\u6570\u636E\u5E93\u53D1\u9001sql\u7684\u5BF9\u8C61statement</span>
    <span class="token class-name">Statement</span> statement<span class="token operator">=</span>connection<span class="token punctuation">.</span><span class="token function">createStatement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//\u7F16\u5199sql</span>
    <span class="token class-name">String</span> sql<span class="token operator">=</span><span class="token string">&quot;select * from usertable&quot;</span><span class="token punctuation">;</span>
    <span class="token comment">//\u6267\u884Csql,\u67E5\u8BE2\u8FD4\u56DE\u7ED3\u679C\u96C6\uFF0C\u589E\u5220\u6539\u8FD4\u56DE\u53D7\u5F71\u54CD\u7684\u884C\u6570</span>
    <span class="token class-name">ResultSet</span> resultSet <span class="token operator">=</span> statement<span class="token punctuation">.</span><span class="token function">executeQuery</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>resultSet<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;id=&quot;</span><span class="token operator">+</span>resultSet<span class="token punctuation">.</span><span class="token function">getObject</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;username=&quot;</span><span class="token operator">+</span>resultSet<span class="token punctuation">.</span><span class="token function">getObject</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;password=&quot;</span><span class="token operator">+</span>resultSet<span class="token punctuation">.</span><span class="token function">getObject</span><span class="token punctuation">(</span><span class="token string">&quot;password&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//\u5173\u95ED\u8FDE\u63A5,\u5148\u521B\u5EFA\u7684\u540E\u5173\u95ED</span>
    resultSet<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    statement<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    connection<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h2 id="jdbc-\u4F7F\u7528\u9884\u7F16\u8BD1\u7684\u6B65\u9AA4" tabindex="-1"><a class="header-anchor" href="#jdbc-\u4F7F\u7528\u9884\u7F16\u8BD1\u7684\u6B65\u9AA4" aria-hidden="true">#</a> JDBC \u4F7F\u7528\u9884\u7F16\u8BD1\u7684\u6B65\u9AA4</h2><ol><li>\u914D\u7F6E\u3002</li><li>\u52A0\u8F7D\u9A71\u52A8\u3002</li><li>\u8FDE\u63A5\u6570\u636E\u5E93\u3002</li><li>\u7F16\u5199 sql\u3002</li><li>\u9884\u7F16\u8BD1\u3002</li><li>\u6267\u884C sql\u3002</li><li>\u5173\u95ED\u8FDE\u63A5\uFF0C\u5148\u521B\u5EFA\u7684\u540E\u5173\u95ED\u3002</li></ol><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>    <span class="token comment">//\u914D\u7F6E</span>
    <span class="token class-name">String</span> url<span class="token operator">=</span><span class="token string">&quot;jdbc:mysql://localhost:3306/mydata?serverTimezone=UTC&quot;</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> username<span class="token operator">=</span><span class="token string">&quot;root&quot;</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> password<span class="token operator">=</span><span class="token string">&quot;123456&quot;</span><span class="token punctuation">;</span>

    <span class="token comment">//\u52A0\u8F7D\u9A71\u52A8</span>
    <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">&quot;com.mysql.cj.jdbc.Driver&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//\u8FDE\u63A5\u6570\u636E\u5E93</span>
    <span class="token class-name">Connection</span> connection<span class="token operator">=</span> <span class="token class-name">DriverManager</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span>username<span class="token punctuation">,</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//\u7F16\u5199sql</span>
    <span class="token class-name">String</span> sql<span class="token operator">=</span><span class="token string">&quot;insert into usertable(id,username,password) values (?,?,?)&quot;</span><span class="token punctuation">;</span>
    <span class="token comment">//\u9884\u7F16\u8BD1</span>
    <span class="token class-name">PreparedStatement</span> preparedStatement<span class="token operator">=</span>connection<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//\u7ED9\u5BF9\u5E94\u7684\uFF1F\u8D4B\u503C</span>
    preparedStatement<span class="token punctuation">.</span><span class="token function">setInt</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    preparedStatement<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    preparedStatement<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token string">&quot;password&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//\u6267\u884Csql,\u67E5\u8BE2\u8FD4\u56DE\u7ED3\u679C\u96C6\uFF0C\u589E\u5220\u6539\u8FD4\u56DE\u53D7\u5F71\u54CD\u7684\u884C\u6570</span>
    <span class="token keyword">int</span> i<span class="token operator">=</span>preparedStatement<span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token operator">&gt;=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">//\u6210\u529F</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//\u5173\u95ED\u8FDE\u63A5,\u5148\u521B\u5EFA\u7684\u540E\u5173\u95ED</span>
    preparedStatement<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    connection<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h2 id="jdbc-\u4E8B\u52A1" tabindex="-1"><a class="header-anchor" href="#jdbc-\u4E8B\u52A1" aria-hidden="true">#</a> JDBC \u4E8B\u52A1</h2><p>\u5F00\u542F\u4E8B\u52A1\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">//false\u662F\u5F00\u542F</span>
connection<span class="token punctuation">.</span><span class="token function">setAutoCommit</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>\u4E8B\u52A1\u672B\u5C3E\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>connection<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//\u6B63\u5E38\u6267\u884C</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>connection<span class="token punctuation">.</span><span class="token function">rollback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//\u6267\u884C\u5F02\u5E38</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div>`,13);function t(e,c){return p}var l=n(a,[["render",t]]);export{l as default};
