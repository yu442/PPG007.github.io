<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.29">
    <title>文档操作 | PPG007 的文档</title><meta name="description" content="PPG007 的站点">
    <link rel="modulepreload" href="/assets/app.269ed0ef.js"><link rel="modulepreload" href="/assets/document.html.9751dfe2.js"><link rel="modulepreload" href="/assets/document.html.a16b7f8f.js">
    <link rel="stylesheet" href="/assets/style.ffa2e7b7.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header ref_key="navbar" class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><!----><span class="site-name can-hide">PPG007 的文档</span></a></span><div class="navbar-links-wrapper" style=""><!--[--><!--]--><nav class="navbar-links can-hide"><!--[--><div class="navbar-links-item"><a href="/" class="nav-link" aria-label="首页"><!--[--><!--]--> 首页 <!--[--><!--]--></a></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="前端"><span class="title">前端</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="前端"><span class="title">前端</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/html" class="nav-link" aria-label="HTML"><!--[--><!--]--> HTML <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/css" class="nav-link" aria-label="CSS"><!--[--><!--]--> CSS <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/javascript" class="nav-link" aria-label="JavaScript"><!--[--><!--]--> JavaScript <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/es6" class="nav-link" aria-label="ES6"><!--[--><!--]--> ES6 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/vue2" class="nav-link" aria-label="Vue 2.X"><!--[--><!--]--> Vue 2.X <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/vue3" class="nav-link" aria-label="Vue 3"><!--[--><!--]--> Vue 3 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/axios" class="nav-link" aria-label="Axios"><!--[--><!--]--> Axios <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/dart" class="nav-link" aria-label="Dart"><!--[--><!--]--> Dart <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Java"><span class="title">Java</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="Java"><span class="title">Java</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/javaio" class="nav-link" aria-label="Java IO"><!--[--><!--]--> Java IO <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/javaknowledge" class="nav-link" aria-label="Java 知识点"><!--[--><!--]--> Java 知识点 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/javanet" class="nav-link" aria-label="Java 网络通信"><!--[--><!--]--> Java 网络通信 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/javathread" class="nav-link" aria-label="Java 多线程"><!--[--><!--]--> Java 多线程 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/annotation-and-reflection" class="nav-link" aria-label="Java 注解和反射"><!--[--><!--]--> Java 注解和反射 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/activemq" class="nav-link" aria-label="ActiveMQ"><!--[--><!--]--> ActiveMQ <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/mybatis" class="nav-link" aria-label="Mybatis"><!--[--><!--]--> Mybatis <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/spring" class="nav-link" aria-label="Spring"><!--[--><!--]--> Spring <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/SpringMVC" class="nav-link" aria-label="SpringMVC"><!--[--><!--]--> SpringMVC <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/SpringBoot" class="nav-link" aria-label="SpringBoot"><!--[--><!--]--> SpringBoot <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/SpringCloud" class="nav-link" aria-label="SpringCloud"><!--[--><!--]--> SpringCloud <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/dubbo" class="nav-link" aria-label="Dubbo"><!--[--><!--]--> Dubbo <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/netty" class="nav-link" aria-label="Netty"><!--[--><!--]--> Netty <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Go"><span class="title">Go</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="Go"><span class="title">Go</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/go" class="nav-link" aria-label="Go"><!--[--><!--]--> Go <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/grpc-and-protobuf" class="nav-link" aria-label="gRPC&amp;Protobuf"><!--[--><!--]--> gRPC&amp;Protobuf <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/gin" class="nav-link" aria-label="Gin"><!--[--><!--]--> Gin <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="数据库"><span class="title">数据库</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="数据库"><span class="title">数据库</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/mongodb" class="nav-link router-link-active" aria-label="MongoDB"><!--[--><!--]--> MongoDB <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/redis" class="nav-link" aria-label="Redis"><!--[--><!--]--> Redis <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Git"><span class="title">Git</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="Git"><span class="title">Git</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/git" class="nav-link" aria-label="Git"><!--[--><!--]--> Git <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="云相关"><span class="title">云相关</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="云相关"><span class="title">云相关</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/docker" class="nav-link" aria-label="Docker"><!--[--><!--]--> Docker <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/kubernetes" class="nav-link" aria-label="Kubernetes"><!--[--><!--]--> Kubernetes <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/istio" class="nav-link" aria-label="Istio"><!--[--><!--]--> Istio <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/domain" class="nav-link" aria-label="域名获取及 CA 认证"><!--[--><!--]--> 域名获取及 CA 认证 <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="others"><span class="title">others</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="others"><span class="title">others</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/codingstyle" class="nav-link" aria-label="Coding Style"><!--[--><!--]--> Coding Style <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/clean-code" class="nav-link" aria-label="Clean Code"><!--[--><!--]--> Clean Code <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/markdown" class="nav-link" aria-label="Markdown"><!--[--><!--]--> Markdown <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/vscode" class="nav-link" aria-label="VsCode"><!--[--><!--]--> VsCode <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/restful" class="nav-link" aria-label="Restful API"><!--[--><!--]--> Restful API <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/regex" class="nav-link" aria-label="正则表达式"><!--[--><!--]--> 正则表达式 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/zookeeper" class="nav-link" aria-label="ZooKeeper"><!--[--><!--]--> ZooKeeper <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/design-pattern" class="nav-link" aria-label="设计模式"><!--[--><!--]--> 设计模式 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/ubuntu-20.04-init" class="nav-link" aria-label="Ubuntu20.04初始化清单"><!--[--><!--]--> Ubuntu20.04初始化清单 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/openwrt" class="nav-link" aria-label="搭建软路由"><!--[--><!--]--> 搭建软路由 <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><a class="nav-link external" href="https://github.com/PPG007/PPG007.github.io" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button" title="toggle dark mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" placeholder="Search" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-links"><!--[--><div class="navbar-links-item"><a href="/" class="nav-link" aria-label="首页"><!--[--><!--]--> 首页 <!--[--><!--]--></a></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="前端"><span class="title">前端</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="前端"><span class="title">前端</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/html" class="nav-link" aria-label="HTML"><!--[--><!--]--> HTML <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/css" class="nav-link" aria-label="CSS"><!--[--><!--]--> CSS <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/javascript" class="nav-link" aria-label="JavaScript"><!--[--><!--]--> JavaScript <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/es6" class="nav-link" aria-label="ES6"><!--[--><!--]--> ES6 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/vue2" class="nav-link" aria-label="Vue 2.X"><!--[--><!--]--> Vue 2.X <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/vue3" class="nav-link" aria-label="Vue 3"><!--[--><!--]--> Vue 3 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/axios" class="nav-link" aria-label="Axios"><!--[--><!--]--> Axios <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/dart" class="nav-link" aria-label="Dart"><!--[--><!--]--> Dart <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Java"><span class="title">Java</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="Java"><span class="title">Java</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/javaio" class="nav-link" aria-label="Java IO"><!--[--><!--]--> Java IO <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/javaknowledge" class="nav-link" aria-label="Java 知识点"><!--[--><!--]--> Java 知识点 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/javanet" class="nav-link" aria-label="Java 网络通信"><!--[--><!--]--> Java 网络通信 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/javathread" class="nav-link" aria-label="Java 多线程"><!--[--><!--]--> Java 多线程 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/annotation-and-reflection" class="nav-link" aria-label="Java 注解和反射"><!--[--><!--]--> Java 注解和反射 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/activemq" class="nav-link" aria-label="ActiveMQ"><!--[--><!--]--> ActiveMQ <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/mybatis" class="nav-link" aria-label="Mybatis"><!--[--><!--]--> Mybatis <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/spring" class="nav-link" aria-label="Spring"><!--[--><!--]--> Spring <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/SpringMVC" class="nav-link" aria-label="SpringMVC"><!--[--><!--]--> SpringMVC <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/SpringBoot" class="nav-link" aria-label="SpringBoot"><!--[--><!--]--> SpringBoot <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/SpringCloud" class="nav-link" aria-label="SpringCloud"><!--[--><!--]--> SpringCloud <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/dubbo" class="nav-link" aria-label="Dubbo"><!--[--><!--]--> Dubbo <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/netty" class="nav-link" aria-label="Netty"><!--[--><!--]--> Netty <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Go"><span class="title">Go</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="Go"><span class="title">Go</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/go" class="nav-link" aria-label="Go"><!--[--><!--]--> Go <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/grpc-and-protobuf" class="nav-link" aria-label="gRPC&amp;Protobuf"><!--[--><!--]--> gRPC&amp;Protobuf <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/gin" class="nav-link" aria-label="Gin"><!--[--><!--]--> Gin <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="数据库"><span class="title">数据库</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="数据库"><span class="title">数据库</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/mongodb" class="nav-link router-link-active" aria-label="MongoDB"><!--[--><!--]--> MongoDB <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/redis" class="nav-link" aria-label="Redis"><!--[--><!--]--> Redis <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Git"><span class="title">Git</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="Git"><span class="title">Git</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/git" class="nav-link" aria-label="Git"><!--[--><!--]--> Git <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="云相关"><span class="title">云相关</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="云相关"><span class="title">云相关</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/docker" class="nav-link" aria-label="Docker"><!--[--><!--]--> Docker <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/kubernetes" class="nav-link" aria-label="Kubernetes"><!--[--><!--]--> Kubernetes <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/istio" class="nav-link" aria-label="Istio"><!--[--><!--]--> Istio <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/domain" class="nav-link" aria-label="域名获取及 CA 认证"><!--[--><!--]--> 域名获取及 CA 认证 <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="others"><span class="title">others</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="others"><span class="title">others</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/codingstyle" class="nav-link" aria-label="Coding Style"><!--[--><!--]--> Coding Style <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/clean-code" class="nav-link" aria-label="Clean Code"><!--[--><!--]--> Clean Code <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/markdown" class="nav-link" aria-label="Markdown"><!--[--><!--]--> Markdown <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/vscode" class="nav-link" aria-label="VsCode"><!--[--><!--]--> VsCode <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/restful" class="nav-link" aria-label="Restful API"><!--[--><!--]--> Restful API <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/regex" class="nav-link" aria-label="正则表达式"><!--[--><!--]--> 正则表达式 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/zookeeper" class="nav-link" aria-label="ZooKeeper"><!--[--><!--]--> ZooKeeper <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/design-pattern" class="nav-link" aria-label="设计模式"><!--[--><!--]--> 设计模式 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/ubuntu-20.04-init" class="nav-link" aria-label="Ubuntu20.04初始化清单"><!--[--><!--]--> Ubuntu20.04初始化清单 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/openwrt" class="nav-link" aria-label="搭建软路由"><!--[--><!--]--> 搭建软路由 <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><a class="nav-link external" href="https://github.com/PPG007/PPG007.github.io" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-links"><!--[--><!--[--><p class="sidebar-heading sidebar-item active">MongoDB</p><ul class=""><li><!--[--><a href="/mongodb/docs/database.html" class="nav-link sidebar-item" aria-label="库操作"><!--[--><!--]--> 库操作 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/mongodb/docs/collection.html" class="nav-link sidebar-item" aria-label="集合操作"><!--[--><!--]--> 集合操作 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/mongodb/docs/document.html" class="router-link-active router-link-exact-active nav-link router-link-active sidebar-item active" aria-label="文档操作"><!--[--><!--]--> 文档操作 <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a aria-current="page" href="/mongodb/docs/document.html#查询" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="查询"><!--[--><!--]--> 查询 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/mongodb/docs/document.html#增加" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="增加"><!--[--><!--]--> 增加 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/mongodb/docs/document.html#删除" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="删除"><!--[--><!--]--> 删除 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/mongodb/docs/document.html#更新" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="更新"><!--[--><!--]--> 更新 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/mongodb/docs/document.html#cursor" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Cursor"><!--[--><!--]--> Cursor <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/mongodb/docs/document.html#集合方法" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="集合方法"><!--[--><!--]--> 集合方法 <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li><li><!--[--><a href="/mongodb/docs/aggregation.html" class="nav-link sidebar-item" aria-label="Aggregation"><!--[--><!--]--> Aggregation <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="文档操作" tabindex="-1"><a class="header-anchor" href="#文档操作" aria-hidden="true">#</a> 文档操作</h1><h2 id="查询" tabindex="-1"><a class="header-anchor" href="#查询" aria-hidden="true">#</a> 查询</h2><ul><li><p>查询集合中的所有文档：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>db<span class="token punctuation">.</span>inventory<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token comment">// 为 find 方法传入空对象即可。</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></li><li><p>根据文档的某个属性等值查询：</p><p>为 find 方法传入一个对象，这个对象的键值对应着查询条件。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>db<span class="token punctuation">.</span>inventory<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span> <span class="token punctuation">{</span> status<span class="token operator">:</span> <span class="token string">&quot;D&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;item&quot;</span><span class="token operator">:</span> <span class="token string">&quot;paper&quot;</span> <span class="token punctuation">}</span> <span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></li><li><p>通过操作符查询：</p><ul><li><p>比较操作符：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 相等比较，语法：{ &lt;field&gt;: { $eq: &lt;value&gt; } }</span>
db<span class="token punctuation">.</span>user<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>$eq<span class="token operator">:</span> <span class="token string">&quot;koston&quot;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
db<span class="token punctuation">.</span>inventory<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">&quot;size&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>$eq<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token string">&quot;h&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token string">&quot;w&quot;</span><span class="token operator">:</span> <span class="token number">15.25</span><span class="token punctuation">,</span> <span class="token string">&quot;uom&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cm&quot;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 大于</span>
db<span class="token punctuation">.</span>user<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">&quot;age&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>$gt<span class="token operator">:</span> <span class="token number">25</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 大于等于</span>
db<span class="token punctuation">.</span>user<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">&quot;age&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>$gte<span class="token operator">:</span> <span class="token number">25</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 小于</span>
db<span class="token punctuation">.</span>user<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">&quot;age&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>$lt<span class="token operator">:</span> <span class="token number">25</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 小于等于</span>
db<span class="token punctuation">.</span>user<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">&quot;age&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>$lte<span class="token operator">:</span> <span class="token number">25</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// in</span>
db<span class="token punctuation">.</span>user<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">&quot;age&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>$<span class="token keyword">in</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">24</span><span class="token punctuation">,</span> <span class="token number">26</span><span class="token punctuation">,</span> <span class="token number">28</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// not in</span>
db<span class="token punctuation">.</span>user<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">&quot;age&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>$nin<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">24</span><span class="token punctuation">,</span> <span class="token number">26</span><span class="token punctuation">,</span> <span class="token number">28</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div></li><li><p>逻辑操作符：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 与</span>
db<span class="token punctuation">.</span>user<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">{</span>$and<span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;koston&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token string">&quot;age&quot;</span><span class="token operator">:</span> <span class="token number">21</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
db<span class="token punctuation">.</span>user<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;koston&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;age&quot;</span><span class="token operator">:</span> <span class="token number">21</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 或</span>
db<span class="token punctuation">.</span>user<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">{</span>$or<span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;koston&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token string">&quot;age&quot;</span><span class="token operator">:</span> <span class="token number">25</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 否</span>
db<span class="token punctuation">.</span>user<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>$not<span class="token operator">:</span><span class="token punctuation">{</span>$eq<span class="token operator">:</span> <span class="token string">&quot;koston&quot;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 全不</span>
db<span class="token punctuation">.</span>user<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">{</span>$nor<span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;age&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>$gte<span class="token operator">:</span> <span class="token number">25</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>$<span class="token keyword">in</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;test1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;test3&quot;</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div></li><li><p>元素查询操作符：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 如果后面的布尔值为 true，将返回包含指定字段的文档，即使值为 null，如果是 false 将会只返回不包含这个字段的文档。</span>
db<span class="token punctuation">.</span>user<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">&quot;q&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>$exists<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 查找某个字段的值是指定类型的文档</span>
db<span class="token punctuation">.</span>user<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">&quot;age&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>$type<span class="token operator">:</span> <span class="token string">&quot;double&quot;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li><li><p>数组查询操作符：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 查找某个数组字段包含给定数组的全部元素的文档，如果元素是一个多属性对象，则属性的顺序不能换，或者将属性拆分判断。</span>
db<span class="token punctuation">.</span>user<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">{</span>grades<span class="token operator">:</span> <span class="token punctuation">{</span>$all<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;english&quot;</span> <span class="token operator">:</span> <span class="token number">90</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token string">&quot;math&quot;</span> <span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 查找某个数组字段中至少一个元素满足后面的所有 query 条件的文档。</span>
db<span class="token punctuation">.</span>user<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">{</span>results<span class="token operator">:</span> <span class="token punctuation">{</span>$elemMatch<span class="token operator">:</span> <span class="token punctuation">{</span>$gte<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>$lte<span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 查找某个数组字段中元素个数等于指定值的文档。</span>
db<span class="token punctuation">.</span>user<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">{</span>results<span class="token operator">:</span> <span class="token punctuation">{</span>$size<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></li></ul></li><li><p>查询某些字段：传入第二个参数，指定要查询的字段，赋值为 1 表示查询,为 0 表示不查询。如果有一个是 1 那么其他没有指明的字段不会返回，如果只有 0，那么只是不会返回指定的字段。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>db<span class="token punctuation">.</span>inventory<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>item<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> _id<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></li><li><p>查询为 null 或者不存在的字段：</p><ul><li>如果 query 对象的字段值为 null，将会查找这个字段值为 null，以及没有这个字段的文档。</li><li>使用 $type 查询值为 null 的字段。</li><li>使用 $exists 查询不存在的字段。</li></ul></li></ul><h2 id="增加" tabindex="-1"><a class="header-anchor" href="#增加" aria-hidden="true">#</a> 增加</h2><ul><li><p>insertOne() 方法：插入一条文档：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>db<span class="token punctuation">.</span>user<span class="token punctuation">.</span><span class="token function">insertOne</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;koston&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;age&quot;</span><span class="token operator">:</span> <span class="token number">21</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></li><li><p>insertMany() 方法，插入多条文档，数组形式。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>db<span class="token punctuation">.</span>user<span class="token punctuation">.</span><span class="token function">insertMany</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;test3&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;age&quot;</span><span class="token operator">:</span> <span class="token number">24</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;test4&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;age&quot;</span><span class="token operator">:</span> <span class="token number">25</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></li><li><p>insert() 方法，既可以插入一条也可以是数组多条。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>db<span class="token punctuation">.</span>user<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;test5&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;age&quot;</span><span class="token operator">:</span> <span class="token number">26</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
db<span class="token punctuation">.</span>user<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;test6&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;age&quot;</span><span class="token operator">:</span> <span class="token number">27</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;test7&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;age&quot;</span><span class="token operator">:</span> <span class="token number">28</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ul><h2 id="删除" tabindex="-1"><a class="header-anchor" href="#删除" aria-hidden="true">#</a> 删除</h2><ul><li><p>deleteMany()：删除所有符合条件的文档。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>db<span class="token punctuation">.</span>inventory<span class="token punctuation">.</span><span class="token function">deleteMany</span><span class="token punctuation">(</span><span class="token punctuation">{</span>status<span class="token operator">:</span> <span class="token string">&quot;A&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></li><li><p>deleteOne()：删除一个符合条件的文档。</p></li><li><p>remove()：删除文档。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 默认全部删除</span>
db<span class="token punctuation">.</span>inventory<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">{</span>status<span class="token operator">:</span> <span class="token string">&quot;D&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span>justOne<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ul><h2 id="更新" tabindex="-1"><a class="header-anchor" href="#更新" aria-hidden="true">#</a> 更新</h2><ul><li>更新方法： <ul><li>updateOne()：更新一个文档。</li><li>updateMany()：更新多个文档。</li><li>replaceOne()：替换一个文档，不能用更新操作符。</li></ul></li><li>更新操作符： <ul><li><p>$inc：增加指定字段的值，可以是负数。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>db<span class="token punctuation">.</span>inventory<span class="token punctuation">.</span><span class="token function">updateOne</span><span class="token punctuation">(</span><span class="token punctuation">{</span>qty<span class="token operator">:</span> <span class="token number">95</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>$inc<span class="token operator">:</span><span class="token punctuation">{</span> qty<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">&quot;size.w&quot;</span><span class="token operator">:</span> <span class="token number">1.5</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></li><li><p>$min：只有指定值小于现有值才更新。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>db<span class="token punctuation">.</span>inventory<span class="token punctuation">.</span><span class="token function">updateOne</span><span class="token punctuation">(</span><span class="token punctuation">{</span>qty<span class="token operator">:</span> <span class="token number">95</span><span class="token punctuation">,</span> time<span class="token operator">:</span><span class="token punctuation">{</span>$exists<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>$min<span class="token operator">:</span><span class="token punctuation">{</span><span class="token string">&quot;size.h&quot;</span><span class="token operator">:</span> <span class="token number">21</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></li><li><p>$max：只有指定值大于现有值才更新。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>db<span class="token punctuation">.</span>inventory<span class="token punctuation">.</span><span class="token function">updateOne</span><span class="token punctuation">(</span><span class="token punctuation">{</span>qty<span class="token operator">:</span> <span class="token number">95</span><span class="token punctuation">,</span> time<span class="token operator">:</span><span class="token punctuation">{</span>$exists<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>$max<span class="token operator">:</span><span class="token punctuation">{</span><span class="token string">&quot;size.h&quot;</span><span class="token operator">:</span> <span class="token number">29</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></li><li><p>$mul：将指定字段乘以一个数。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>db<span class="token punctuation">.</span>inventory<span class="token punctuation">.</span><span class="token function">updateOne</span><span class="token punctuation">(</span><span class="token punctuation">{</span>qty<span class="token operator">:</span> <span class="token number">95</span><span class="token punctuation">,</span> time<span class="token operator">:</span><span class="token punctuation">{</span>$exists<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>$mul<span class="token operator">:</span><span class="token punctuation">{</span><span class="token string">&quot;size.w&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></li><li><p>$rename：将字段重命名。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>db<span class="token punctuation">.</span>inventory<span class="token punctuation">.</span><span class="token function">updateOne</span><span class="token punctuation">(</span><span class="token punctuation">{</span>qty<span class="token operator">:</span> <span class="token number">95</span><span class="token punctuation">,</span> time<span class="token operator">:</span><span class="token punctuation">{</span>$exists<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>$rename<span class="token operator">:</span><span class="token punctuation">{</span><span class="token string">&quot;time&quot;</span><span class="token operator">:</span> <span class="token string">&quot;date&quot;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></li><li><p>$set：将字段修改为指定值。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>db<span class="token punctuation">.</span>inventory<span class="token punctuation">.</span><span class="token function">updateOne</span><span class="token punctuation">(</span><span class="token punctuation">{</span>qty<span class="token operator">:</span> <span class="token number">95</span><span class="token punctuation">,</span> date<span class="token operator">:</span><span class="token punctuation">{</span>$exists<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>$set<span class="token operator">:</span><span class="token punctuation">{</span><span class="token string">&quot;date&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2021-11-02&quot;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></li><li><p>$unset：删除指定的字段。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>db<span class="token punctuation">.</span>inventory<span class="token punctuation">.</span><span class="token function">updateOne</span><span class="token punctuation">(</span><span class="token punctuation">{</span>qty<span class="token operator">:</span> <span class="token number">95</span><span class="token punctuation">,</span> date<span class="token operator">:</span><span class="token punctuation">{</span>$exists<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>$unset<span class="token operator">:</span><span class="token punctuation">{</span><span class="token string">&quot;date&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></li><li><p>$pull：从一个数组中将指定元素删除。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 删除 fruits 数组中的 apples 和 oranges，以及 vegetables 数组中的 carrots。</span>
db<span class="token punctuation">.</span>stores<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>
    <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> $pull<span class="token operator">:</span> <span class="token punctuation">{</span> fruits<span class="token operator">:</span> <span class="token punctuation">{</span> $<span class="token keyword">in</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token string">&quot;apples&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;oranges&quot;</span> <span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> vegetables<span class="token operator">:</span> <span class="token string">&quot;carrots&quot;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> multi<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li><li><p>$push：将元素添加到数组。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>db<span class="token punctuation">.</span>stores<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>$push<span class="token operator">:</span><span class="token punctuation">{</span>fruits<span class="token operator">:</span><span class="token punctuation">{</span>$each<span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">&#39;apples&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;banana&#39;</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></li><li><p>$pop：从数组中删除第一个或者最后一个元素。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 后面为 1 表示从末尾删，为 -1 表示从开头删</span>
db<span class="token punctuation">.</span>stores<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>$pop<span class="token operator">:</span> <span class="token punctuation">{</span>fruits<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li><li><p>$pullAll：移除数组中与指定的全部元素。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>db<span class="token punctuation">.</span>stores<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>$pullAll<span class="token operator">:</span><span class="token punctuation">{</span><span class="token string">&quot;fruits&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">&quot;apples&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;bananas&quot;</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></li><li><p>$addToSet：向数组添加元素，除非这个元素已经存在。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>db<span class="token punctuation">.</span>stores<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>$addToSet<span class="token operator">:</span><span class="token punctuation">{</span>fruits<span class="token operator">:</span><span class="token string">&quot;pears&quot;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></li><li><p>$each：可以结合 <code>$addToSet</code> 和 <code>$push</code>，能够将一个数组中的元素值展开。</p></li><li><p>$slice：必须和 <code>$each</code> 同时出现，并和 <code>$push</code> 配合使用。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 负数：只保留 push 后的后几个元素。</span>
<span class="token comment">// 正数：只保留 push 后的前几个元素。</span>
<span class="token comment">// 0：将数组变为空数组。</span>
db<span class="token punctuation">.</span>students<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">{</span> _id<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span>$push<span class="token operator">:</span> <span class="token punctuation">{</span>scores<span class="token operator">:</span> <span class="token punctuation">{</span>$each<span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">78</span><span class="token punctuation">,</span> <span class="token number">86</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>$slice<span class="token operator">:</span> <span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li><li><p>$position：与 <code>$push</code> 和 <code>$each</code> 一起使用，表示插入的位置。</p></li><li><p>$sort：与 <code>$push</code> 和 <code>$each</code> 一起使用，指定数组的排序规则。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 正数表示增序，负数表示降序，如果要排序的数组是一个对象数组，要根据对象的属性排序，sort 后就是一个对象，直接用属性名做键。</span>
db<span class="token punctuation">.</span>stores<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span>$push<span class="token operator">:</span><span class="token punctuation">{</span>fruits<span class="token operator">:</span><span class="token punctuation">{</span>$each<span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>$sort<span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ul></li></ul><h2 id="cursor" tabindex="-1"><a class="header-anchor" href="#cursor" aria-hidden="true">#</a> Cursor</h2><p>find 方法返回的就是 cursor 对象。</p><p><a href="https://docs.mongodb.com/v4.2/reference/method/js-cursor/" target="_blank" rel="noopener noreferrer">Cursor Method<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a></p><p>常见方法：</p><ul><li><p>close()：通知服务器关闭游标。</p></li><li><p>isClosed()：判断是否关闭。</p></li><li><p>count()：计数，即使游标位置改变也返回全部数量。</p></li><li><p>forEach()：遍历，这个方法会导致游标移动到最后。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>db<span class="token punctuation">.</span>inventory<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">print</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>item<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></li><li><p>hasNext()：判断游标是否还有下一个元素。</p></li><li><p>isExhausted()：如果游标被关闭且批处理中没有剩余对象就返回 true。</p></li><li><p>itcount()：计数，但是会将游标移动到最后。</p></li><li><p>limit()：限制查询结果数量，如果是 0，效果等同于没有限制。</p></li><li><p>map()：将函数作用于游标的每个文档上，使用数字接受返回值。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> x <span class="token operator">=</span> db<span class="token punctuation">.</span>inventory<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> x<span class="token punctuation">.</span>status<span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></li><li><p>next()：向后移动游标。</p></li><li><p>noCursorTimeout()：告知服务器不要设置超时时间。</p></li><li><p>objsLeftInBatch()：返回当前游标剩余的文档数量。</p></li><li><p>pretty()：让输出格式化。</p></li><li><p>size()：计数，不受 skip() 方法和 limit() 方法的影响。</p></li><li><p>skip()：从指定的位置开始返回结果，结合 limit 可以实现分页。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">printStudents</span><span class="token punctuation">(</span><span class="token parameter">pageNumber<span class="token punctuation">,</span> nPerPage</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">print</span><span class="token punctuation">(</span> <span class="token string">&quot;Page: &quot;</span> <span class="token operator">+</span> pageNumber <span class="token punctuation">)</span><span class="token punctuation">;</span>
  db<span class="token punctuation">.</span>students<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">skip</span><span class="token punctuation">(</span> pageNumber <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span> pageNumber <span class="token operator">-</span> <span class="token number">1</span> <span class="token punctuation">)</span> <span class="token operator">*</span> nPerPage <span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span> nPerPage <span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span> <span class="token parameter">student</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">print</span><span class="token punctuation">(</span> student<span class="token punctuation">.</span>name <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></li><li><p>sort()：根据指定的字段对结果进行排序，正数为递增，负数为递减。</p></li><li><p>toArray()：将从游标当前位置开始到结束的文档以数组形式返回，且会将游标移动到最后。</p></li></ul><h2 id="集合方法" tabindex="-1"><a class="header-anchor" href="#集合方法" aria-hidden="true">#</a> 集合方法</h2><ul><li><p>countDocuments()：统计一个集合中符合条件的文档数量。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>db<span class="token punctuation">.</span>inventory<span class="token punctuation">.</span><span class="token function">countDocuments</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></li><li><p>estimatedDocumentCount()：计数。</p></li><li><p>dataSize()：返回集合大小的字节数。</p></li><li><p>distinct()：返回不重复的某个字段的值。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>db<span class="token punctuation">.</span>stores<span class="token punctuation">.</span><span class="token function">distinct</span><span class="token punctuation">(</span><span class="token string">&quot;fruits&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></li><li><p>findAndModify()：修改并返回一个文档，默认情况下返回的是没有修改的文档，键名是固定的。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>db<span class="token punctuation">.</span>collection<span class="token punctuation">.</span><span class="token function">findAndModify</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
query<span class="token operator">:</span> <span class="token operator">&lt;</span>document<span class="token operator">&gt;</span><span class="token punctuation">,</span>
sort<span class="token operator">:</span> <span class="token operator">&lt;</span>document<span class="token operator">&gt;</span><span class="token punctuation">,</span>
remove<span class="token operator">:</span> <span class="token operator">&lt;</span>boolean<span class="token operator">&gt;</span><span class="token punctuation">,</span>
update<span class="token operator">:</span> <span class="token operator">&lt;</span>document or aggregation pipeline<span class="token operator">&gt;</span><span class="token punctuation">,</span>
<span class="token keyword">new</span><span class="token operator">:</span> <span class="token operator">&lt;</span>boolean<span class="token operator">&gt;</span><span class="token punctuation">,</span>
fields<span class="token operator">:</span> <span class="token operator">&lt;</span>document<span class="token operator">&gt;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></li><li><p>findOneAndDelete()：删除一个文档，返回这个删除的文档。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>db<span class="token punctuation">.</span>stores<span class="token punctuation">.</span><span class="token function">findOneAndDelete</span><span class="token punctuation">(</span><span class="token punctuation">{</span>fruits<span class="token operator">:</span> <span class="token string">&quot;grapes&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></li><li><p>findOneAndReplace()：替换第一个符合条件的文档，默认返回替换前的文档。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>db<span class="token punctuation">.</span>stores<span class="token punctuation">.</span><span class="token function">findOneAndReplace</span><span class="token punctuation">(</span><span class="token punctuation">{</span>fruits<span class="token operator">:</span> <span class="token string">&quot;plums&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>fruits<span class="token operator">:</span> <span class="token string">&quot;none&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>returnNewDocument<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></li><li><p>findOneAndUpdate()：更新一个文档，默认返回更新前的文档。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>db<span class="token punctuation">.</span>stores<span class="token punctuation">.</span><span class="token function">findOneAndUpdate</span><span class="token punctuation">(</span><span class="token punctuation">{</span>fruits<span class="token operator">:</span> <span class="token string">&quot;none&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>$set<span class="token operator">:</span> <span class="token punctuation">{</span>time<span class="token operator">:</span> <span class="token string">&quot;2021-11-04&quot;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>returnNewDocument<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></li><li><p>renameCollection()：重命名集合。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>db<span class="token punctuation">.</span>stores<span class="token punctuation">.</span><span class="token function">renameCollection</span><span class="token punctuation">(</span><span class="token string">&quot;test&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div></li><li><p>save()：更新一个已经存在的文档或者插入一个新文档，如果传入的文档不包含 <code>_id</code> 字段将会生成一个 id 并插入，否则会根据这个 <code>_id</code> 进行更新，如果没有这个 id 对应的文档，那么还是插入。</p></li></ul><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: 1658272229@com请求">PPG007</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/mongodb/docs/collection.html" class="nav-link" aria-label="集合操作"><!--[--><!--]--> 集合操作 <!--[--><!--]--></a></span><span class="next"><a href="/mongodb/docs/aggregation.html" class="nav-link" aria-label="Aggregation"><!--[--><!--]--> Aggregation <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/assets/app.269ed0ef.js" defer></script>
  </body>
</html>
